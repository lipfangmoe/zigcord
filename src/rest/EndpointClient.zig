//! EndpointClient is a wrapper around an HttpClient which contains methods that call Discord API endpoints.

const std = @import("std");
const zigcord = @import("../root.zig");
const rest = zigcord.rest;

const EndpointClient = @This();

rest_client: rest.RestClient,

/// Creates a discord http client with default configuration.
///
/// Cannot be used in tests, instead use `initWithConfig` and provide a mock response from the server.
pub fn init(allocator: std.mem.Allocator, auth: zigcord.Authorization) EndpointClient {
    return initWithConfig(allocator, auth, .{});
}

/// Creates a discord http client based on a configuration
pub fn initWithConfig(allocator: std.mem.Allocator, auth: zigcord.Authorization, config: rest.RestClient.Config) EndpointClient {
    const http_client = std.http.Client{ .allocator = allocator };
    const rest_client = rest.RestClient{
        .allocator = allocator,
        .auth = auth,
        .client = http_client,
        .config = config,
    };
    return EndpointClient{ .rest_client = rest_client };
}

pub fn deinit(self: *EndpointClient) void {
    self.rest_client.deinit();
}

// === generated by generate_endpoint_client.zig ===
pub const application = @import("./endpoints/application.zig");
pub const editCurrentApplication = application.editCurrentApplication;
pub const EditParams = application.EditParams;
pub const getCurrentApplication = application.getCurrentApplication;
pub const application_commands = @import("./endpoints/application_commands.zig");
pub const bulkOverwriteGlobalApplicationCommands = application_commands.bulkOverwriteGlobalApplicationCommands;
pub const bulkOverwriteGuildApplicationCommands = application_commands.bulkOverwriteGuildApplicationCommands;
pub const createGlobalApplicationCommand = application_commands.createGlobalApplicationCommand;
pub const CreateGlobalApplicationCommandBody = application_commands.CreateGlobalApplicationCommandBody;
pub const createGuildApplicationCommand = application_commands.createGuildApplicationCommand;
pub const CreateGuildApplicationCommandBody = application_commands.CreateGuildApplicationCommandBody;
pub const deleteGlobalApplicationCommand = application_commands.deleteGlobalApplicationCommand;
pub const deleteGuildApplicationCommand = application_commands.deleteGuildApplicationCommand;
pub const editApplicationCommandPermissions = application_commands.editApplicationCommandPermissions;
pub const editGlobalApplicationCommand = application_commands.editGlobalApplicationCommand;
pub const EditGlobalApplicationCommandBody = application_commands.EditGlobalApplicationCommandBody;
pub const editGuildApplicationCommand = application_commands.editGuildApplicationCommand;
pub const EditGuildApplicationCommandBody = application_commands.EditGuildApplicationCommandBody;
pub const getApplicationCommandPermissions = application_commands.getApplicationCommandPermissions;
pub const getGlobalApplicationCommand = application_commands.getGlobalApplicationCommand;
pub const getGlobalApplicationCommands = application_commands.getGlobalApplicationCommands;
pub const getGuildApplicationCommand = application_commands.getGuildApplicationCommand;
pub const getGuildApplicationCommandPermissions = application_commands.getGuildApplicationCommandPermissions;
pub const getGuildApplicationCommands = application_commands.getGuildApplicationCommands;
pub const OverwriteApplicationCommand = application_commands.OverwriteApplicationCommand;
pub const application_role_connection_metadata = @import("./endpoints/application_role_connection_metadata.zig");
pub const getApplicationRoleConnectionMetadataRecords = application_role_connection_metadata.getApplicationRoleConnectionMetadataRecords;
pub const updateApplicationRoleConnectionMetadataRecords = application_role_connection_metadata.updateApplicationRoleConnectionMetadataRecords;
pub const audit_log = @import("./endpoints/audit_log.zig");
pub const getGuildAuditLog = audit_log.getGuildAuditLog;
pub const auto_moderation = @import("./endpoints/auto_moderation.zig");
pub const createAutoModerationRule = auto_moderation.createAutoModerationRule;
pub const CreateParams = auto_moderation.CreateParams;
pub const deleteAutoModerationRule = auto_moderation.deleteAutoModerationRule;
pub const getAutoModerationRule = auto_moderation.getAutoModerationRule;
pub const listAutoModerationRulesForGuild = auto_moderation.listAutoModerationRulesForGuild;
pub const modifyAutoModerationRule = auto_moderation.modifyAutoModerationRule;
pub const ModifyParams = auto_moderation.ModifyParams;
pub const channel = @import("./endpoints/channel.zig");
pub const addThreadMember = channel.addThreadMember;
pub const bulkDeleteMessages = channel.bulkDeleteMessages;
pub const createChannelInvite = channel.createChannelInvite;
pub const CreateChannelInvite = channel.CreateChannelInvite;
pub const createMessage = channel.createMessage;
pub const CreateMessageFormBody = channel.CreateMessageFormBody;
pub const CreateMessageJsonBody = channel.CreateMessageJsonBody;
pub const createMessageMultipart = channel.createMessageMultipart;
pub const createReaction = channel.createReaction;
pub const crosspostMessage = channel.crosspostMessage;
pub const deleteAllReactions = channel.deleteAllReactions;
pub const deleteAllReactionsForEmoji = channel.deleteAllReactionsForEmoji;
pub const deleteChannel = channel.deleteChannel;
pub const deleteChannelPermission = channel.deleteChannelPermission;
pub const deleteMessage = channel.deleteMessage;
pub const deleteOwnReaction = channel.deleteOwnReaction;
pub const deleteUserReaction = channel.deleteUserReaction;
pub const editChannelPermissions = channel.editChannelPermissions;
pub const EditChannelPermissions = channel.EditChannelPermissions;
pub const editMessage = channel.editMessage;
pub const EditMessageFormBody = channel.EditMessageFormBody;
pub const EditMessageJsonBody = channel.EditMessageJsonBody;
pub const editMessageMultipart = channel.editMessageMultipart;
pub const followAnnouncementChannel = channel.followAnnouncementChannel;
pub const getChannel = channel.getChannel;
pub const getChannelInvites = channel.getChannelInvites;
pub const getChannelMessage = channel.getChannelMessage;
pub const getChannelMessages = channel.getChannelMessages;
pub const GetChannelMessagesQuery = channel.GetChannelMessagesQuery;
pub const getChannelPins = channel.getChannelPins;
pub const GetChannelPinsQuery = channel.GetChannelPinsQuery;
pub const GetEmojiQuery = channel.GetEmojiQuery;
pub const getReactions = channel.getReactions;
pub const getThreadMember = channel.getThreadMember;
pub const groupDmAddRecipient = channel.groupDmAddRecipient;
pub const groupDmRemoveRecipient = channel.groupDmRemoveRecipient;
pub const joinThread = channel.joinThread;
pub const leaveThread = channel.leaveThread;
pub const listJoinedPrivateArchivedThreads = channel.listJoinedPrivateArchivedThreads;
pub const listPrivateArchivedThreads = channel.listPrivateArchivedThreads;
pub const listPublicArchivedThreads = channel.listPublicArchivedThreads;
pub const listThreadMembers = channel.listThreadMembers;
pub const ListThreadMembersQuery = channel.ListThreadMembersQuery;
pub const ListThreadsQuery = channel.ListThreadsQuery;
pub const ListThreadsResponse = channel.ListThreadsResponse;
pub const modifyChannel = channel.modifyChannel;
pub const ModifyChannelBody = channel.ModifyChannelBody;
pub const pinMessage = channel.pinMessage;
pub const ReactionEmoji = channel.ReactionEmoji;
pub const removeThreadMember = channel.removeThreadMember;
pub const startThreadFromMessage = channel.startThreadFromMessage;
pub const StartThreadFromMessage = channel.StartThreadFromMessage;
pub const startThreadInForumOrMediaChannel = channel.startThreadInForumOrMediaChannel;
pub const StartThreadInForumOrMediaChannelFormBody = channel.StartThreadInForumOrMediaChannelFormBody;
pub const StartThreadInForumOrMediaChannelJsonBody = channel.StartThreadInForumOrMediaChannelJsonBody;
pub const startThreadInForumOrMediaChannelMultipart = channel.startThreadInForumOrMediaChannelMultipart;
pub const StartThreadInForumOrMediaChannelResponse = channel.StartThreadInForumOrMediaChannelResponse;
pub const startThreadWithoutMessage = channel.startThreadWithoutMessage;
pub const StartThreadWithoutMessage = channel.StartThreadWithoutMessage;
pub const triggerTypingIndicator = channel.triggerTypingIndicator;
pub const unpinMessage = channel.unpinMessage;
pub const emoji = @import("./endpoints/emoji.zig");
pub const AuthoredEmoji = emoji.AuthoredEmoji;
pub const createGuildEmoji = emoji.createGuildEmoji;
pub const CreateGuildEmojiBody = emoji.CreateGuildEmojiBody;
pub const deleteApplicationEmoji = emoji.deleteApplicationEmoji;
pub const deleteGuildEmoji = emoji.deleteGuildEmoji;
pub const getApplicationEmoji = emoji.getApplicationEmoji;
pub const getGuildEmoji = emoji.getGuildEmoji;
pub const ListApplicationEmojiResponse = emoji.ListApplicationEmojiResponse;
pub const listApplicationEmojis = emoji.listApplicationEmojis;
pub const listGuildEmoji = emoji.listGuildEmoji;
pub const modifyApplicationEmoji = emoji.modifyApplicationEmoji;
pub const ModifyApplicationEmojiBody = emoji.ModifyApplicationEmojiBody;
pub const modifyGuildEmoji = emoji.modifyGuildEmoji;
pub const ModifyGuildEmojiBody = emoji.ModifyGuildEmojiBody;
pub const gateway = @import("./endpoints/gateway.zig");
pub const getGateway = gateway.getGateway;
pub const getGatewayBot = gateway.getGatewayBot;
pub const GetGatewayBotResponse = gateway.GetGatewayBotResponse;
pub const GetGatewayResponse = gateway.GetGatewayResponse;
pub const guild = @import("./endpoints/guild.zig");
pub const addGuildMember = guild.addGuildMember;
pub const AddGuildMemberBody = guild.AddGuildMemberBody;
pub const addGuildMemberRole = guild.addGuildMemberRole;
pub const beginGuildPrune = guild.beginGuildPrune;
pub const BeginGuildPruneBody = guild.BeginGuildPruneBody;
pub const BeginGuildPruneResponse = guild.BeginGuildPruneResponse;
pub const bulkGuildBan = guild.bulkGuildBan;
pub const BulkGuildBanBody = guild.BulkGuildBanBody;
pub const BulkGuildBanResponse = guild.BulkGuildBanResponse;
pub const createGuildBan = guild.createGuildBan;
pub const createGuildChannel = guild.createGuildChannel;
pub const createGuildRole = guild.createGuildRole;
pub const CreateGuildRoleBody = guild.CreateGuildRoleBody;
pub const deleteGuild = guild.deleteGuild;
pub const deleteGuildIntegration = guild.deleteGuildIntegration;
pub const deleteGuildRole = guild.deleteGuildRole;
pub const getGuild = guild.getGuild;
pub const getGuildBan = guild.getGuildBan;
pub const getGuildBans = guild.getGuildBans;
pub const GetGuildBansQuery = guild.GetGuildBansQuery;
pub const getGuildChannels = guild.getGuildChannels;
pub const GetGuildImageResponse = guild.GetGuildImageResponse;
pub const getGuildIntegrations = guild.getGuildIntegrations;
pub const getGuildInvites = guild.getGuildInvites;
pub const getGuildMember = guild.getGuildMember;
pub const getGuildOnboarding = guild.getGuildOnboarding;
pub const getGuildPreview = guild.getGuildPreview;
pub const getGuildPruneCount = guild.getGuildPruneCount;
pub const GetGuildPruneCountQuery = guild.GetGuildPruneCountQuery;
pub const GetGuildPruneCountResponse = guild.GetGuildPruneCountResponse;
pub const getGuildRole = guild.getGuildRole;
pub const getGuildRoles = guild.getGuildRoles;
pub const getGuildVanityUrl = guild.getGuildVanityUrl;
pub const getGuildVoiceRegions = guild.getGuildVoiceRegions;
pub const getGuildWelcomeScreen = guild.getGuildWelcomeScreen;
pub const getGuildWidget = guild.getGuildWidget;
pub const getGuildWidgetImage = guild.getGuildWidgetImage;
pub const GetGuildWidgetImageQuery = guild.GetGuildWidgetImageQuery;
pub const getGuildWidgetSettings = guild.getGuildWidgetSettings;
pub const listActiveGuildThreads = guild.listActiveGuildThreads;
pub const ListActiveGuildThreadsBody = guild.ListActiveGuildThreadsBody;
pub const listGuildMembers = guild.listGuildMembers;
pub const ListGuildMembersParams = guild.ListGuildMembersParams;
pub const modifyCurrentMember = guild.modifyCurrentMember;
pub const modifyGuild = guild.modifyGuild;
pub const ModifyGuildBody = guild.ModifyGuildBody;
pub const modifyGuildChannelPositions = guild.modifyGuildChannelPositions;
pub const ModifyGuildChannelPositionsBodyEntry = guild.ModifyGuildChannelPositionsBodyEntry;
pub const modifyGuildMember = guild.modifyGuildMember;
pub const ModifyGuildMemberBody = guild.ModifyGuildMemberBody;
pub const modifyGuildMfaLevel = guild.modifyGuildMfaLevel;
pub const ModifyGuildMfaLevelBody = guild.ModifyGuildMfaLevelBody;
pub const modifyGuildOnboarding = guild.modifyGuildOnboarding;
pub const ModifyGuildOnboardingBody = guild.ModifyGuildOnboardingBody;
pub const modifyGuildRole = guild.modifyGuildRole;
pub const ModifyGuildRoleBody = guild.ModifyGuildRoleBody;
pub const modifyGuildRolePositions = guild.modifyGuildRolePositions;
pub const ModifyGuildRolePositionsBodyEntry = guild.ModifyGuildRolePositionsBodyEntry;
pub const modifyGuildWelcomeScreen = guild.modifyGuildWelcomeScreen;
pub const ModifyGuildWelcomeScreenBody = guild.ModifyGuildWelcomeScreenBody;
pub const modifyGuildWidget = guild.modifyGuildWidget;
pub const ModifyGuildWidgetBody = guild.ModifyGuildWidgetBody;
pub const removeGuildBan = guild.removeGuildBan;
pub const removeGuildMember = guild.removeGuildMember;
pub const removeGuildMemberRole = guild.removeGuildMemberRole;
pub const searchGuildMembers = guild.searchGuildMembers;
pub const SearchGuildMembersParams = guild.SearchGuildMembersParams;
pub const guild_scheduled_event = @import("./endpoints/guild_scheduled_event.zig");
pub const createGuildScheduledEvent = guild_scheduled_event.createGuildScheduledEvent;
pub const CreateGuildScheduledEventBody = guild_scheduled_event.CreateGuildScheduledEventBody;
pub const deleteGuildScheduledEvent = guild_scheduled_event.deleteGuildScheduledEvent;
pub const getGuildScheduledEvent = guild_scheduled_event.getGuildScheduledEvent;
pub const getGuildScheduledEventUsers = guild_scheduled_event.getGuildScheduledEventUsers;
pub const GetGuildScheduledEventUsersQuery = guild_scheduled_event.GetGuildScheduledEventUsersQuery;
pub const listScheduledEventsForGuild = guild_scheduled_event.listScheduledEventsForGuild;
pub const modifyGuildScheduledEvent = guild_scheduled_event.modifyGuildScheduledEvent;
pub const ModifyGuildScheduledEventBody = guild_scheduled_event.ModifyGuildScheduledEventBody;
pub const WithUserCountQuery = guild_scheduled_event.WithUserCountQuery;
pub const guild_template = @import("./endpoints/guild_template.zig");
pub const createGuildFromGuildTemplate = guild_template.createGuildFromGuildTemplate;
pub const CreateGuildFromGuildTemplateBody = guild_template.CreateGuildFromGuildTemplateBody;
pub const createGuildTemplate = guild_template.createGuildTemplate;
pub const CreateGuildTemplateBody = guild_template.CreateGuildTemplateBody;
pub const deleteGuildTemplate = guild_template.deleteGuildTemplate;
pub const getGuildTemplate = guild_template.getGuildTemplate;
pub const getGuildTemplates = guild_template.getGuildTemplates;
pub const modifyGuildTemplate = guild_template.modifyGuildTemplate;
pub const ModifyGuildTemplateBody = guild_template.ModifyGuildTemplateBody;
pub const syncGuildTemplate = guild_template.syncGuildTemplate;
pub const interaction = @import("./endpoints/interaction.zig");
pub const createFollowupMessage = interaction.createFollowupMessage;
pub const createFollowupMessageMultipart = interaction.createFollowupMessageMultipart;
pub const createInteractionResponse = interaction.createInteractionResponse;
pub const CreateInteractionResponseFormBody = interaction.CreateInteractionResponseFormBody;
pub const createInteractionResponseMultipart = interaction.createInteractionResponseMultipart;
pub const deleteFollowupMessage = interaction.deleteFollowupMessage;
pub const deleteOriginalInteractionResponse = interaction.deleteOriginalInteractionResponse;
pub const editFollowupMessage = interaction.editFollowupMessage;
pub const editFollowupMessageMultipart = interaction.editFollowupMessageMultipart;
pub const editOriginalInteractionResponse = interaction.editOriginalInteractionResponse;
pub const getFollowupMessage = interaction.getFollowupMessage;
pub const getOriginalInteractionResponse = interaction.getOriginalInteractionResponse;
pub const invite = @import("./endpoints/invite.zig");
pub const deleteInvite = invite.deleteInvite;
pub const getInvite = invite.getInvite;
pub const GetInviteQuery = invite.GetInviteQuery;
pub const poll = @import("./endpoints/poll.zig");
pub const endPoll = poll.endPoll;
pub const getAnswerVoters = poll.getAnswerVoters;
pub const GetAnswerVotersQuery = poll.GetAnswerVotersQuery;
pub const GetAnswerVotersResponse = poll.GetAnswerVotersResponse;
pub const sku = @import("./endpoints/sku.zig");
pub const listSkus = sku.listSkus;
pub const soundboard = @import("./endpoints/soundboard.zig");
pub const createGuildSoundboardSound = soundboard.createGuildSoundboardSound;
pub const CreateGuildSoundboardSoundBody = soundboard.CreateGuildSoundboardSoundBody;
pub const deleteGuildSoundboardSound = soundboard.deleteGuildSoundboardSound;
pub const getGuildSoundboardSound = soundboard.getGuildSoundboardSound;
pub const listDefaultSoundboardSounds = soundboard.listDefaultSoundboardSounds;
pub const listGuildSoundboardSounds = soundboard.listGuildSoundboardSounds;
pub const modifyGuildSoundboardSound = soundboard.modifyGuildSoundboardSound;
pub const ModifyGuildSoundboardSoundBody = soundboard.ModifyGuildSoundboardSoundBody;
pub const sendSoundboardSound = soundboard.sendSoundboardSound;
pub const SendSoundboardSoundBody = soundboard.SendSoundboardSoundBody;
pub const stage_instance = @import("./endpoints/stage_instance.zig");
pub const createStageInstance = stage_instance.createStageInstance;
pub const CreateStageInstanceBody = stage_instance.CreateStageInstanceBody;
pub const deleteStageInstance = stage_instance.deleteStageInstance;
pub const getStageInstance = stage_instance.getStageInstance;
pub const modifyStageInstance = stage_instance.modifyStageInstance;
pub const ModifyStageInstanceBody = stage_instance.ModifyStageInstanceBody;
pub const sticker = @import("./endpoints/sticker.zig");
pub const createGuildSticker = sticker.createGuildSticker;
pub const CreateGuildStickerFormBody = sticker.CreateGuildStickerFormBody;
pub const getGuildSticker = sticker.getGuildSticker;
pub const getSticker = sticker.getSticker;
pub const listGuildStickers = sticker.listGuildStickers;
pub const listStickerPacks = sticker.listStickerPacks;
pub const ListStickerPacksResponse = sticker.ListStickerPacksResponse;
pub const subscription = @import("./endpoints/subscription.zig");
pub const getSkuSubscription = subscription.getSkuSubscription;
pub const listSkuSubscriptions = subscription.listSkuSubscriptions;
pub const ListSkuSubscriptionsQuery = subscription.ListSkuSubscriptionsQuery;
pub const user = @import("./endpoints/user.zig");
pub const createDm = user.createDm;
pub const CreateDmBody = user.CreateDmBody;
pub const createGroupDm = user.createGroupDm;
pub const CreateGroupDmBody = user.CreateGroupDmBody;
pub const getCurrentUser = user.getCurrentUser;
pub const getCurrentUserApplicationRoleConnection = user.getCurrentUserApplicationRoleConnection;
pub const getCurrentUserConnections = user.getCurrentUserConnections;
pub const getCurrentUserGuilds = user.getCurrentUserGuilds;
pub const GetCurrentUserGuildsQuery = user.GetCurrentUserGuildsQuery;
pub const getUser = user.getUser;
pub const leaveGuild = user.leaveGuild;
pub const modifyCurrentUser = user.modifyCurrentUser;
pub const ModifyCurrentUserBody = user.ModifyCurrentUserBody;
pub const updateCurrentUserApplicationRoleConnection = user.updateCurrentUserApplicationRoleConnection;
pub const UpdateCurrentUserApplicationRoleConnectionBody = user.UpdateCurrentUserApplicationRoleConnectionBody;
pub const voice = @import("./endpoints/voice.zig");
pub const getCurrentUserVoiceState = voice.getCurrentUserVoiceState;
pub const getUserVoiceState = voice.getUserVoiceState;
pub const listVoiceRegions = voice.listVoiceRegions;
pub const modifyCurrentUserVoiceState = voice.modifyCurrentUserVoiceState;
pub const ModifyCurrentUserVoiceStateBody = voice.ModifyCurrentUserVoiceStateBody;
pub const modifyUserVoiceState = voice.modifyUserVoiceState;
pub const ModifyUserVoiceStateBody = voice.ModifyUserVoiceStateBody;
pub const webhook = @import("./endpoints/webhook.zig");
pub const createWebhook = webhook.createWebhook;
pub const CreateWebhookBody = webhook.CreateWebhookBody;
pub const deleteWebhook = webhook.deleteWebhook;
pub const deleteWebhookMessage = webhook.deleteWebhookMessage;
pub const deleteWebhookWithToken = webhook.deleteWebhookWithToken;
pub const editWebhookMessage = webhook.editWebhookMessage;
pub const EditWebhookMessageFormBody = webhook.EditWebhookMessageFormBody;
pub const EditWebhookMessageJsonBody = webhook.EditWebhookMessageJsonBody;
pub const editWebhookMessageMultipart = webhook.editWebhookMessageMultipart;
pub const ExecuteWebhookFormBody = webhook.ExecuteWebhookFormBody;
pub const ExecuteWebhookJsonBody = webhook.ExecuteWebhookJsonBody;
pub const executeWebhookNoWait = webhook.executeWebhookNoWait;
pub const executeWebhookNoWaitMultipart = webhook.executeWebhookNoWaitMultipart;
pub const ExecuteWebhookQuery = webhook.ExecuteWebhookQuery;
pub const executeWebhookWait = webhook.executeWebhookWait;
pub const executeWebhookWaitMultipart = webhook.executeWebhookWaitMultipart;
pub const getChannelWebhooks = webhook.getChannelWebhooks;
pub const getGuildWebhooks = webhook.getGuildWebhooks;
pub const getWebhook = webhook.getWebhook;
pub const getWebhookMessage = webhook.getWebhookMessage;
pub const getWebhookWithToken = webhook.getWebhookWithToken;
pub const modifyWebhook = webhook.modifyWebhook;
pub const ModifyWebhookBody = webhook.ModifyWebhookBody;
pub const modifyWebhookWithToken = webhook.modifyWebhookWithToken;
pub const PossiblyInThreadQuery = webhook.PossiblyInThreadQuery;
